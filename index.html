<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Project Akhir Strategi Algortmik</title>
</head >
    <body id="myDIV">
        <div class="sidebar" >
            <div class="title"> 
                <h2 >Algoritma Greedy</h2>
                <div class="description" >
                    Penjadwalan Tugas
                </div>
            </div>

            <div class="menu">

                <div class="sub-menu">
                    <label> Max-Min Greedy</label>
                    <select class="sel_mm" onchange="rendercontent1()">
                        <option value="">Pilih </option>
                        <option value="Max">Max</option>
                        <option value="Min">Min</option>
                    </select>
                </div>

                <div class="sub-menu">
                    <label> Variasi Greedy</label>
                    <select class="sel_gre" onchange="rendercontent1()">
                        <option value="">Pilih Variasi</option>
                        <option value="profit">Profit</option>
                        <option value="weight">Weight</option>
                        <option value="density">Density</option>
                    </select>
                </div>

                <div class="sub-menu">
                    <label> Setting </label>
                    <select class="sel" onchange="rendercontent()">
                        <option value="">Pilih Setting</option>
                        <option value="bobot">Jam</option>
                        <option value="profit">Nilai</option>
                    </select>
                </div>

                <div class="sub-menu">
                    <label> Deadline </label>
                    <input class="input-side" type="number">
                </div>

            </div>

            <footer class="ftr">
                <div class="container text-center"  >
                    &copy; <span id="year"></span> My App. Strategi Algoritma.
                </div>
            </footer>
            
            <script>
                // Mengupdate tahun secara dinamis
                const yearElement = document.getElementById('year');
                const currentYear = new Date().getFullYear();
                yearElement.textContent = currentYear;
            </script>

        </div>


        <div class="content">

        </div>
        
    </body>

    <script>
        const content = document.querySelector('.content');
        let bobot = [60,45,18,26,30,30,20,10];
        let profit = [30,30,20,10,60,45,18,26];
        let nama = ["Data Science","Information Retrieval","Komputasi Paralel","Metode Penulisan Ilmiah",
        "Pendidkan Kewarganegaraan","Pengolahan Citra Digital","Strategi Algoritmik","Kerja Praktek"];


        function greedymaxprofit(arr) {
        arr.sort((a, b) => b[2] - a[2]);
        let schedule = [];
        let entry_total_time = document.querySelector('.input-side').value;
        let total_time = parseInt(entry_total_time);
        let total_profit =0;

        for (let i = 0; i < arr.length; i++) {
            let task = arr[i];
            if (total_time >= task[1] && total_time - task[1] >= 0) {
            schedule.push(task[0]);
            total_profit += task[2];
            total_time -= task[1];
            }
        }

        let remaining_time = total_time;
        return [remaining_time, schedule,total_profit];
        }

        function greedyminprofit(arr) {
        arr.sort((a, b) => a[2] - b[2]);
        let schedule = [];
        let entry_total_time = document.querySelector('.input-side').value;
        let total_time = parseInt(entry_total_time);
        let total_profit =0;

        console.log(arr);
        for (let i = 0; i < arr.length; i++) {
            let task = arr[i];
            if (total_time >= task[1] && total_time - task[1] >= 0) {
            schedule.push(task[0]);
            total_profit += task[2];
            total_time -= task[1];
            }
        }

        let remaining_time = total_time;
        return [remaining_time, schedule,total_profit];
        }

        function greedymaxweight(arr) {
        arr.sort((a, b) => b[1] - a[1]);
        let schedule = [];
        let entry_total_time = document.querySelector('.input-side').value;
        let total_time = parseInt(entry_total_time);
        let total_profit =0;

        for (let i = 0; i < arr.length; i++) {
            let task = arr[i];
            if (total_time >= task[1] && total_time - task[1] >= 0) {
            schedule.push(task[0]);
            total_profit += task[2];
            total_time -= task[1];
            }
        }

        let remaining_time = total_time;
        return [remaining_time, schedule,total_profit];
        }

        function greedyminweight(arr) {
        arr.sort((a, b) => a[1] - b[1]);
        let schedule = [];
        let entry_total_time = document.querySelector('.input-side').value;
        let total_time = parseInt(entry_total_time);
        let total_profit =0;

        console.log(arr);
        for (let i = 0; i < arr.length; i++) {
            let task = arr[i];
            if (total_time >= task[1] && total_time - task[1] >= 0) {
            schedule.push(task[0]);
            total_profit += task[2];
            total_time -= task[1];
            }
        }

        let remaining_time = total_time;
        return [remaining_time, schedule,total_profit];
        }

        function greedymaxdensity(arr) {
        arr.sort((a, b) => (b[2] / b[1]) - (a[2] / a[1]));
        let schedule = [];
        let entry_total_time = document.querySelector('.input-side').value;
        let total_time = parseInt(entry_total_time);
        let total_profit =0;

        for (let i = 0; i < arr.length; i++) {
            let task = arr[i];
            if (total_time >= task[1] && total_time - task[1] >= 0) {
            schedule.push(task[0]);
            total_profit += task[2];
            total_time -= task[1];
            }
        }

        let remaining_time = total_time;
        return [remaining_time, schedule,total_profit];
        }

        function greedymindensity(arr) {
        arr.sort((a, b) => (b[2] / b[1]) - (a[2] / a[1]));
        let schedule = [];
        let entry_total_time = document.querySelector('.input-side').value;
        let total_time = parseInt(entry_total_time);
        let total_profit =0;

        console.log(arr);
        for (let i = 0; i < arr.length; i++) {
            let task = arr[i];
            if (total_time >= task[1] && total_time - task[1] >= 0) {
            schedule.push(task[0]);
            total_profit += task[2];
            total_time -= task[1];
            }
        }

        let remaining_time = total_time;
        return [remaining_time, schedule,total_profit];
        }

        function rendercontent1(){
            const VariasiGreedy = document.querySelector('.sel_gre').value;
            const greedy = document.querySelector('.sel_mm').value;
            let newarr = [];
            for (let i = 0; i < nama.length; i++) {
            newarr.push([nama[i], bobot[i], profit[i]]);
            }
            console.log(newarr);

            if (VariasiGreedy=="profit") {
                let remaining_time;
                let schedule;
                let total_profit;
                if (greedy=="Min") {
                    [remaining_time,schedule,total_profit]=greedyminprofit(newarr);
                }
                else if(greedy=="Max"){
                    [remaining_time,schedule,total_profit]=greedymaxprofit(newarr);
                }

                content.innerHTML=`

                <div class="str-c">
                    <div>
                    <div class="">Variasi Greedy By Profit</div>
                    </div>
                </div>
                <hr>

                <table  class="tbl-hasil">
                    
                    <tr>
                        <td>Tugas yang dijadwalkan:</td>
                        <td>
                            <th>${schedule}</th>
                        </td>
                    </tr>
                    <tr>
                        <td>Total Profit:</td>
                        <td>
                            <th>${total_profit}</th>
                        </td>
                    </tr>
                    <tr>
                        <td>Sisa Waktu:</td>
                        <td>
                            <th>${remaining_time}</th>
                        </td>
                    </tr>
                </table>
                `   
            }
            else if (VariasiGreedy=="weight") {
                let remaining_time;
                let schedule;
                let total_profit;
                if (greedy=="Min") {
                    [remaining_time,schedule,total_profit]=greedyminweight(newarr);
                }
                else if(greedy=="Max"){
                    [remaining_time,schedule,total_profit]=greedymaxweight(newarr);
                }

                content.innerHTML=`

                <div class="str-c">
                    <div>
                    <div class="">Variasi Greedy By Weight</div>
                    </div>
                </div>
                <hr>

                <table  class="tbl-hasil">
                    <tr>
                        <td>Tugas yang dijadwalkan:</td>
                        <td>
                            <th>${schedule}</th>
                        </td>
                    </tr>
                    <tr>
                        <td>Total Profit:</td>
                        <td>
                            <th>${total_profit}</th>
                        </td>
                    </tr>
                    <tr>
                        <td>Sisa Waktu:</td>
                        <td>
                            <th>${remaining_time}</th>
                        </td>
                    </tr>
                </table>
                `  
            }
            else if (VariasiGreedy=="density") {
                let remaining_time;
                let schedule;
                let total_profit;
                if (greedy=="Min") {
                    [remaining_time,schedule,total_profit]=greedymindensity(newarr);
                }
                else if(greedy=="Max"){
                    [remaining_time,schedule,total_profit]=greedymaxdensity(newarr);
                }

                content.innerHTML=`

                <div class="str-c">
                    <div>
                    <div class="">Variasi Greedy By Density</div>
                    </div>
                </div>
                <hr>

                <table  class="tbl-hasil">
                    <tr>
                        <td>Tugas yang dijadwalkan:</td>
                        <td>
                            <th>${schedule}</th>
                        </td>
                    </tr>
                    <tr>
                        <td>Total Profit:</td>
                        <td>
                            <th>${total_profit}</th>
                        </td>
                    </tr>
                    <tr>
                        <td>Sisa Waktu:</td>
                        <td>
                            <th>${remaining_time}</th>
                        </td>
                    </tr>
                </table>
                `
            }

        }

        function rendercontent() {
            const setting = document.querySelector('.sel').value;
            if (setting=="bobot") {
                content.innerHTML=`

                <div class="str-c">
                    <div>
                    <div class=""> Setting Jam</div>
                    </div>
                </div>
                <hr>
                
                <table class="tbl">
                <tr>
                    <td>Data Science</td>
                    <td>
                        <input type="number" id="bobot1" value="${bobot[0]}"  placeholder="Masukkan Jam">
                    </td>
                </tr>
                <tr>
                    <td>Information Retrival</td>
                    <td>
                        <input type="number" id="bobot2"  value="${bobot[1]}" placeholder="Masukkan Jam">
                    </td>
                </tr>
                <tr>
                    <td>Komputasi Paralel</td>
                    <td>
                        <input type="number" id="bobot3"  value="${bobot[2]}" placeholder="Masukkan Jam">
                    </td>
                </tr>
                <tr>
                    <td>Metode Penulisan Ilmiah</td>
                    <td>
                        <input type="number" id="bobot4"  value="${bobot[3]}" placeholder="Masukkan Jam">
                    </td>
                </tr>
                <tr>
                    <td>Pendidikan Kewarganegaraan</td>
                    <td>
                        <input type="number" id="bobot5"  value="${bobot[4]}" placeholder="Masukkan Jam">
                    </td>
                </tr>
                <tr>
                    <td>Pengolahan Citra Digital</td>
                    <td>
                        <input type="number" id="bobot6"  value="${bobot[5]}" placeholder="Masukkan Jam">
                    </td>
                </tr>
                <tr>
                    <td>Strategi Algoritmik</td>
                    <td>
                        <input type="number" id="bobot7"  value="${bobot[6]}" placeholder="Masukkan Jam">
                    </td>
                </tr>
                <tr>
                    <td>Kerja Praktik</td>
                    <td>
                        <input type="number" id="bobot8"  value="${bobot[7]}" placeholder="Masukkan Jam">
                    </td>
                </tr>
                </table>


                <div class="btnsave">
                <button onclick="simpandata1()" type="submit">Simpan Data</button>
                </div>
            `  
            }
            else if (setting=="profit") {
                content.innerHTML=`

                <div class="str-c">
                    <div>
                        <div class=""> Setting Nilai</div>
                    </div>
                </div>
                <hr>

                <table class="tbl">
                <tr>
                    <td>Data Science</td>
                    <td>
                        <input type="number" id="profit1"  value="${profit[0]}" placeholder="Masukkan Nilai">
                    </td>
                </tr>
                <tr>
                    <td>Information Retrival</td>
                    <td>
                        <input type="number" id="profit2"  value="${profit[1]}" placeholder="Masukkan Nilai">
                    </td>
                </tr>
                <tr>
                    <td>Komputasi Paralel</td>
                    <td>
                        <input type="number" id="profit3"  value="${profit[2]}" placeholder="Masukkan Nilai">
                    </td>
                </tr>
                <tr>
                    <td>Metode Penulisan Ilmiah</td>
                    <td>
                        <input type="number" id="profit4"  value="${profit[3]}" placeholder="Masukkan Nilai">
                    </td>
                </tr>
                <tr>
                    <td>Pendidikan Kewarganegaraan</td>
                    <td>
                        <input type="number" id="profit5"  value="${profit[4]}" placeholder="Masukkan Nilai">
                    </td>
                </tr>
                <tr>
                    <td>Pengolahan Citra Digital</td>
                    <td>
                        <input type="number" id="profit6"  value="${profit[5]}" placeholder="Masukkan Nilai">
                    </td>
                </tr>
                <tr>
                    <td>Strategi Algoritmik</td>
                    <td>
                        <input type="number" id="profit7"  value="${profit[6]}" placeholder="Masukkan Nilai">
                    </td>
                </tr>
                <tr>
                    <td>Kerja Praktik</td>
                    <td>
                        <input type="number" id="profit8"  value="${profit[7]}" placeholder="Masukkan Nilai">
                    </td>
                </tr>
                </table>


                <div class="btnsave">
                <button onclick="simpandata2()" type="submit">Simpan Data</button>
                </div>
            `
            }
             
        }
        function simpandata1(){
            bobot1 = document.querySelector('#bobot1').value;
            bobot2 = document.querySelector('#bobot2').value;
            bobot3 = document.querySelector('#bobot3').value;
            bobot4 = document.querySelector('#bobot4').value;
            bobot5 = document.querySelector('#bobot5').value;
            bobot6 = document.querySelector('#bobot6').value;
            bobot7 = document.querySelector('#bobot7').value;
            bobot8 = document.querySelector('#bobot8').value;
            bobot = [bobot1,bobot2,bobot3,bobot4,bobot5,bobot6,bobot7,bobot8];
        }
        function simpandata2(){
            profit1 = document.querySelector('#profit1').value;
            profit2 = document.querySelector('#profit2').value;
            profit3 = document.querySelector('#profit3').value;
            profit4 = document.querySelector('#profit4').value;
            profit5 = document.querySelector('#profit5').value;
            profit6 = document.querySelector('#profit6').value;
            profit7 = document.querySelector('#profit7').value;
            profit8 = document.querySelector('#profit8').value;
            profit = [profit1,profit2,profit3,profit4,profit5,profit6,profit7,profit8];
        }

    </script>
</html>